{"ast":null,"code":"import _defineProperty from \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/src/views/login/appBar/index.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      color: 'white'\n    },\n    textField: {\n      color: 'white !important',\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit,\n      width: '200'\n    },\n    a: {\n      textDecoration: 'none'\n    },\n    containerHeader: {\n      display: 'flex',\n      padding: '0 8px',\n      alignItems: 'center',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: '16px',\n      color: 'white !important',\n      fontWeight: 'none'\n    },\n    btnLogin: {\n      height: '20px',\n      color: 'white',\n      fontWeight: 'bold',\n      backgroundColor: 'rgba(169, 93, 44, 1)',\n      marginTop: '24px',\n      '&:hover': {\n        backgroundColor: 'rgba(163, 80, 44, 1)'\n      }\n    },\n    cssLabel: {\n      color: 'white'\n    },\n    dense: {\n      marginTop: 19\n    },\n    menu: {\n      width: 200\n    }\n  };\n};\n\nvar AppBarTop =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AppBarTop, _React$Component);\n\n  function AppBarTop(props) {\n    var _this;\n\n    _classCallCheck(this, AppBarTop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppBarTop).call(this, props));\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.state = {\n      email: '',\n      password: ''\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChangeInput = _this.handleChangeInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AppBarTop, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      fetch('192.168.1.66:8080/auth/login', {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'email': this.state.email,\n          'password': this.state.password\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        console.log(json);\n        var success = json.success;\n\n        if (success === false) {\n          _this2.setState({\n            error: true\n          });\n        } else if (success) {\n          var token = json.payload.token;\n          localStorage.setItem('token', token);\n        }\n\n        _this2.setState({\n          email: '',\n          password: ''\n        });\n      });\n    }\n  }, {\n    key: \"handleChangeInput\",\n    value: function handleChangeInput(event) {\n      var t = event.target;\n      var v = t.value;\n      var n = t.name;\n      this.setState(_defineProperty({}, n, v));\n      console.log(n, v);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: \"React\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        className: classes.containerHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"brand-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"YUM-KAAX\"), React.createElement(\"form\", {\n        className: classes.container,\n        noValidate: true,\n        autoComplete: \"off\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"standard-dense\",\n        label: \"Correo\",\n        name: \"email\",\n        className: classNames(classes.textField, classes.dense),\n        margin: \"dense\",\n        onChange: this.handleChangeInput,\n        classes: {\n          root: classes.cssLabel\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"standard-password-input\",\n        label: \"Contrase\\xF1a\",\n        name: \"password\",\n        className: classes.textField,\n        type: \"password\",\n        onChange: this.handleChangeInput,\n        autoComplete: \"current-password\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        className: classes.btnLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Iniciar sesi\\xF3n\")))));\n    }\n  }]);\n\n  return AppBarTop;\n}(React.Component);\n\nAppBarTop.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(AppBarTop);","map":{"version":3,"sources":["/Users/y2kevin/Desktop/yum-kaax/Yum-kaax/front-end/yum-kaax/src/views/login/appBar/index.js"],"names":["React","PropTypes","classNames","withStyles","TextField","AppBar","Button","BrowserRouter","Router","Link","styles","theme","container","display","flexWrap","color","textField","marginLeft","spacing","unit","marginRight","width","a","textDecoration","containerHeader","padding","alignItems","flexDirection","justifyContent","marginBottom","fontWeight","btnLogin","height","backgroundColor","marginTop","cssLabel","dense","menu","AppBarTop","props","handleChange","name","event","setState","target","value","state","email","password","handleSubmit","bind","handleChangeInput","e","preventDefault","fetch","method","mode","headers","body","JSON","stringify","then","res","json","console","log","success","error","token","payload","localStorage","setItem","t","v","n","classes","root","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\n\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    color: 'white',\n  },\n  textField: {\n    color: 'white !important',\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '200',\n\n  },\n  a:{\n    textDecoration:'none',\n  },\n  containerHeader: {\n    display: 'flex',\n    padding: '0 8px',\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: '16px',\n    color: 'white !important',\n    fontWeight: 'none',\n  },\n  btnLogin: {\n    height: '20px',\n    color: 'white',\n    fontWeight: 'bold',\n    backgroundColor: 'rgba(169, 93, 44, 1)',\n    marginTop: '24px',\n    '&:hover': {\n      backgroundColor: 'rgba(163, 80, 44, 1)',\n    },\n  },\n  cssLabel: {\n    color: 'white',\n  },\n\n  dense: {\n    marginTop: 19,\n  },\n  menu: {\n    width: 200,\n  },\n});\n\nclass AppBarTop extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={\n      email:'',\n      password:''\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChangeInput = this.handleChangeInput.bind(this);\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  handleSubmit(e){\n    e.preventDefault();\n    fetch('192.168.1.66:8080/auth/login',{\n      method:'POST',\n      mode:'cors',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'email':this.state.email,'password':this.state.password\n      })\n\n    }).then(res=>res.json())\n    .then(json=> {\n      console.log(json);\n      let {success} = json;\n      if(success === false){\n        this.setState({\n          error:true\n        });\n      }else if(success){\n        let token = json.payload.token;\n        localStorage.setItem('token',token);\n\n      }\n\n      this.setState({\n        email:'',\n        password:''\n      });\n    })\n  };\n\n  handleChangeInput(event){\n    let t=event.target;\n    let v=t.value;\n    let n= t.name;\n    this.setState({\n      [n]:v\n    });\n    console.log(n,v);\n  }\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className=\"React\">\n      <AppBar className={classes.containerHeader}>\n      <h1 className=\"brand-name\">YUM-KAAX</h1>\n      <form className={classes.container} noValidate autoComplete=\"off\" onSubmit={this.handleSubmit}>\n      <TextField\n      id=\"standard-dense\"\n      label=\"Correo\"\n      name=\"email\"\n      className={classNames(classes.textField, classes.dense)}\n      margin=\"dense\"\n      onChange={ this.handleChangeInput}\n      classes={{\n        root: classes.cssLabel,\n      }}\n\n      />\n      <TextField\n      id=\"standard-password-input\"\n      label=\"Contraseña\"\n      name=\"password\"\n      className={classes.textField}\n      type=\"password\"\n      onChange={ this.handleChangeInput}\n      autoComplete=\"current-password\"\n      margin=\"normal\"\n      />\n      <Link to=\"/main\"><Button type=\"submit\" className={classes.btnLogin}>Iniciar sesión</Button></Link>\n\n      </form>\n      </AppBar>\n      </div>\n      );\n  }\n}\n\nAppBarTop.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AppBarTop);\n"]},"metadata":{},"sourceType":"module"}